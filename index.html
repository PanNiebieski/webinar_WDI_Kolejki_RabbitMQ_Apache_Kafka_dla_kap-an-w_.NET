<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Kolejki RabbitMQ Apache Kafka dla kapłanów .NET</title>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width" />
        <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,900&amp;subset=latin-ext" rel="stylesheet" />
        <!-- Shower Theme -->
        <link rel="stylesheet" href="vendors/shower-ribbon/styles/screen-16x9.css" />
        <link rel="stylesheet" href="vendors/shower-CezaryWalenciuk/styles/main.css" />
        <!-- Prism.js -->
        <!---<link rel="stylesheet" href="vendors/prism/prism-my-white.css" />
        <link rel="stylesheet" href="vendors/prism/custom-prism.css" />
        <link rel="stylesheet" href="codegrid-white.css" />
        -->
        <link rel="stylesheet" href="vendors/prism/prism-my-dark.css" />
        <link rel="stylesheet" href="vendors/prism/custom-prism.css" />
        <link rel="stylesheet" href="codegrid-dark.css" /> 
    
        <meta property="og:type" content="website">
        <meta property="og:title" content="Kolejki RabbitMQ Apache Kafka dla kapłanów .NET">
        <meta property="og:description" content="Presentation for WDI">
        <meta property="og:url" content="https://panniebieski.github.io/webinar_WDI_Kolejki_RabbitMQ_Apache_Kafka_dla_kap-an-w_.NET/">
        <meta property="og:site_name" content="Kolejki RabbitMQ Apache Kafka dla kapłanów .NET">
        <meta property="og:image" content="https://panniebieski.github.io/webinar_WDI_Kolejki_RabbitMQ_Apache_Kafka_dla_kap-an-w_.NET/forSocialMedia/FacebookImageForMainPage.jpg"><meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta name="twitter:title" content="Kolejki RabbitMQ Apache Kafka dla kapłanów .NET">
        <meta name="twitter:description" content="Presentation for WDI">
        <meta name="twitter:image" content="https://panniebieski.github.io/webinar_WDI_Kolejki_RabbitMQ_Apache_Kafka_dla_kap-an-w_.NET/forSocialMedia/FacebookImageForMainPage.jpg">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@walenciukc">
        <link rel="icon" type="image/png" sizes="16x16" href="https://panniebieski.github.io/webinar_WDI_Kolejki_RabbitMQ_Apache_Kafka_dla_kap-an-w_.NET/forSocialMedia/icon/icon16x16.png">
        <link rel="apple-touch-icon" href="https://panniebieski.github.io/webinar_WDI_Kolejki_RabbitMQ_Apache_Kafka_dla_kap-an-w_.NET/forSocialMedia/icon180x180.png">
        <link rel="shortcut icon" href="https://panniebieski.github.io/webinar_WDI_Kolejki_RabbitMQ_Apache_Kafka_dla_kap-an-w_.NET/forSocialMedia/icon16x16.png">
        <meta name="msapplication-square150x150logo" content="https://panniebieski.github.io/webinar_WDI_Kolejki_RabbitMQ_Apache_Kafka_dla_kap-an-w_.NET/forSocialMedia/icon180x180.png">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    </head>
<body class="shower list">

    <header class="caption">
        <h1>Kolejki RabbitMQ Apache Kafka dla kapłanów .NET</h1>
        <p></p>
    </header>
    <section class="slide front-page">
        <div class="details">
            <!-- 1. Avatar -->
            <span>Cezary Walenciuk</span>
            <!-- 3. Presentation title -->
            <h2 class="bigbig"><strong style="font-size: 35px;  line-height: 1.3;">

                    <span class="titlec1">Kolejki</span>
                    <br />
                    <span class="titlec5">RabbitMQ, Apache Kafka<span>
                    <br />
                    <span class="titlec3">dla kapłanów .NET</span></strong></h2>
            <!-- 5. Contact the speaker -->
            <h2><a href="https://twitter.com/WalenciukC">@walenciukC</a></h2>
        </div>
        <div>
            <!-- 2. Speaker -->
        </div>
        <div class="imag">
            <img src="images/my-avatar.jpg" alt="Speaker">
        </div>
    </section>
  
    <!--

Czy jesteś zainteresowany Kafką, RabbitMQ, kolejkami? 
Nigdy nie miałeś czasu, aby się w to zagłębić? Nie ma problemu. 
W tej sesji zagłębimy się w ten temat. Wyruszymy w podróż, aby odkryć, w jaki sposób zbudowałem system sterowany kolejkami.
Skupimy się na elementach, które trzeba znać, aby budować takie aplikacje. Poznamy podstawowe koncepcje i zalecenia. Dowiemy się też, jak używać C# i KafkaFlow oraz innych bibliotek dla .NET jak Rebus oraz RabbitMQ.Client.
Nawet jeśli jeszcze nic o tym nie wiesz, zapewniam, że wrócisz do domu z podstawami, aby rozpocząć swoją podróż po Kafce lub RabbitMQ.

- Co to jest kolejka?
- Pokazanie prostych przykładów z RabbitMQ z RabbitMQ.Client
- Zaawansowane przykłady z kolejkami oparte na zdarzeniach z biblioteką Rebus z RabbitMQ
- Potrzeba więcej mocy? Stosowanie Apache Kafka
- Partycje, brokery i cluster
- Apache Kafka w .NET z KafkaFlow
- Przepływ zdarzeń w aplikacji
- O czym warto pamiętać

-->

    
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/1.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/2.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/3.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/3.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/4.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/5.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/6.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/7.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/8.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/9.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/10.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/11.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/12.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/13.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/14.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/15.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/16.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/17.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/18.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/19.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/20.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/21.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/22.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/23.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/24.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/25.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <!--DEMO PROSTE WYSŁANIE WIADOMOŚCI-->
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">RabbitMQ.Client Sender</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">

















     
                        

                        using RabbitMQ.Client;
                        using System.Text;
                                                
                        var factory = new ConnectionFactory() { HostName = &amp;quot;localhost&amp;quot; };
                        using (var connection = factory.CreateConnection())
                        using (var channel = connection.CreateModel())
                        {
                            channel.QueueDeclare(queue: &amp;quot;RabbitMqDotNetTutorial.01&amp;quot;,
                                durable: false,
                                exclusive: false,
                                autoDelete: false,
                                arguments: null);
                        
                            while (true)
                            {
                                Console.WriteLine(AppInfo.Value);
                        
                                Console.WriteLine(&amp;quot;Write what you want to send&amp;quot;);
                                Console.WriteLine(&amp;quot;Write nothing to exit.&amp;quot;);
                        
                                string usermessage = Console.ReadLine();
                        
                                if (string.IsNullOrWhiteSpace(usermessage))
                                    break;
                        
                                string message = usermessage;
                                var body = Encoding.UTF8.GetBytes(message);
                        
                                channel.BasicPublish(exchange: &amp;quot;&amp;quot;,
                                    routingKey: &amp;quot;RabbitMqDotNetTutorial.01&amp;quot;,
                                    basicProperties: null, body);
                        
                                Console.WriteLine(&amp;quot;&amp;quot;);
                                Console.ForegroundColor = ConsoleColor.Green;
                                Console.WriteLine(&amp;quot;\tSent {0}&amp;quot;, message);
                                Console.ForegroundColor = ConsoleColor.Gray;
                                Console.WriteLine(&amp;quot;&amp;quot;);
                            }
                        
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">RabbitMQ.Client Reciver</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">






















                        using RabbitMQ.Client.Events;
                        using RabbitMQ.Client;
                        using System.Text;
                        
                        var factory = new ConnectionFactory() { HostName = &amp;quot;localhost&amp;quot; };
                        
                        using (var connection = factory.CreateConnection())
                        using (var channel = connection.CreateModel())
                        {
                            channel.QueueDeclare(queue: &amp;quot;RabbitMqDotNet6Tutorial.01&amp;quot;,
                            durable: false,
                                exclusive: false, autoDelete: false, arguments: null);
                        
                            Console.WriteLine(AppInfo.Value);
                            Console.WriteLine(&amp;quot; Waiting for messages.&amp;quot;);
                        
                            var consumer = new EventingBasicConsumer(channel);
                        
                            consumer.Received += (model, ea) =&amp;gt;
                            {
                                var message = Encoding.UTF8.GetString(ea.Body.ToArray());
                                Console.Write(&amp;quot;-&amp;gt; Received: &amp;quot;);
                                Console.ForegroundColor = ConsoleColor.Green;
                                Console.WriteLine(message);
                                Console.ForegroundColor = ConsoleColor.Gray;
                        
                                //channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);
                            };
                        
                            channel.BasicConsume(queue: &amp;quot;RabbitMqDotNet6Tutorial.01&amp;quot;,
                            autoAck: true, consumer: consumer);
                        
                        
                            char key = &amp;#39;z&amp;#39;;
                        
                            while (key != &amp;#39;q&amp;#39; &amp;amp;&amp;amp; key != &amp;#39;Q&amp;#39;)
                            {
                                Console.WriteLine(&amp;quot; Press [q] or [Q] to exit.&amp;quot;);
                                key = Console.ReadKey().KeyChar;
                            }
                        
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">EasyNetQ Reciver</h2>
            </div>
            <div class="PlaceCodeHere ">
                <pre style="font-size: 30px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 30px !important;">


                        using EasyNetQ;

                        using (var bus = RabbitHutch.CreateBus
                            (&quot;host=localhost&quot;))
                        {
                            for (int i = 0; i &lt; 10; i++)
                            {
                                await bus.SendReceive.SendAsync
                                (&quot;1EasyNetMQ.Queue&quot;,
                                    new TextMessage()
                                    { 
                                        Text = i + &quot;: Hello World from EasyNetQ&quot;
                                    }
                                );
                        
                            }
                        }                        
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">EasyNetQ Reciver</h2>
            </div>
            <div class="PlaceCodeHere ">
                <pre style="font-size: 28px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 28px !important;">

                        using EasyNetQ;

                        using (var bus = RabbitHutch.CreateBus("host=localhost"))
                        {
                            await bus.SendReceive.ReceiveAsync<TextMessage>("1EasyNetMQ.Queue",
                                HandleTextMessage);
                        
                            Console.WriteLine("Listening for messages. Hit <return> to quit.");
                            Console.ReadLine();
                        }
                        
                        static void HandleTextMessage(TextMessage textMessage)
                        {
                            Console.ForegroundColor = ConsoleColor.Red;
                            Console.WriteLine("Got message: {0}", textMessage.Text);
                            Console.ResetColor();
                        }                                   
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/26.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <!--DEMO CO JEŚLI WIADOMOŚĆ SIĘ NIE PRZETWORZY-->
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">RabbitMQ.Client Sender Example of ACK</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 20px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 20px !important;">









































                        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };
                        using (var connection = factory.CreateConnection())
                        
                        using (var channel = connection.CreateModel())
                        {
                            //durbale = true ponieważ chcemy aby nasze zdania istniały po restarcie
                            channel.QueueDeclare(queue: &quot;RabbitMqDotNet6Tutorial.02&quot;, true,
                                false, false, null);
                        
                            while (true)
                            {
                                Console.WriteLine(&quot;Write [.] to increase time to do job for worker. Foreach [.]&quot;);
                                Console.WriteLine(&quot;Write [!] at least once. To make one worker fail job&quot;);
                                Console.WriteLine(&quot;Write [q] or [Q] to exit.&quot;);
                        
                                string whatuserwrote = Console.ReadLine();
                        
                                if (whatuserwrote == &quot;q&quot; || whatuserwrote == &quot;Q&quot;)
                                    break;
                                if (string.IsNullOrEmpty(whatuserwrote))
                                    continue;
                        
                                Job job = CreateJob(whatuserwrote);
                                string message = JsonConvert.SerializeObject(job);
                        
                                var body = Encoding.UTF8.GetBytes(message);
                        
                                var properties = channel.CreateBasicProperties();
                                properties.Persistent = true;
                        
                                channel.BasicPublish(&quot;&quot;, routingKey: &quot;RabbitMqDotNet6Tutorial.02&quot;,
                                    properties, body);
                        
                                WriteMessageOnConsole(message);
                            }
                        
                        }     
                        
                        void WriteMessageOnConsole(string message)
                        {
                            Console.WriteLine(&quot;&quot;);
                            Console.ForegroundColor = ConsoleColor.Green;
                            Console.WriteLine(&quot;\tSent {0}&quot;, message);
                            Console.ForegroundColor = ConsoleColor.Gray;
                            Console.WriteLine(&quot;&quot;);
                        }
                        
                        Job CreateJob(string usertext)
                        {
                            int howManySecondsWillJobTake = usertext.Split(&#39;.&#39;).Length - 1;
                            bool shouldFail = usertext.IndexOf(&#39;!&#39;) &gt; 0;
                        
                            string message = usertext.Replace(&quot;!&quot;, &quot;&quot;)
                                .Replace(&quot;.&quot;, &quot;&quot;);
                        
                            return new Job()
                            {
                                Message = message,
                                HowManySecondsWillJobTake = howManySecondsWillJobTake,
                                Type = JobType.SendEmail,
                                ShouldFaillOnWorkerTwo = shouldFail
                        
                            };
                        }                
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">RabbitMQ.Client Reciver Example of ACK 2RabbitMQ.NewJob.Worker.Reciver</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">






























                        



                        
                        using RabbitMQ.Client;
                        using RabbitMQ.Client.Events;
                        using System.Text;
                        using System.Text.Json;

                        Console.ForegroundColor = GetRandomConsoleColor();
                        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };
                        using (var connection = factory.CreateConnection())
                        
                        using (var channel = connection.CreateModel())
                        {
                            channel.QueueDeclare(queue: &quot;RabbitMqDotNet6Tutorial.02&quot;,
                                durable: true, 
                                exclusive: false, autoDelete: false, arguments: null);
                        
                            channel.BasicQos(prefetchSize: 0, prefetchCount: 1, global: false);
                        
                            Console.WriteLine(&quot; [*] Waiting for jobs.&quot;);
                        
                            var consumer = new EventingBasicConsumer(channel);
                        
                            consumer.Received += (model, ea) =&gt;
                            {
                                byte[] body = ea.Body.ToArray();
                                var jobAsJsonText = Encoding.UTF8.GetString(body);
                        
                                Job job = JsonSerializer.Deserialize&lt;Job&gt;(jobAsJsonText);
                        
                                Console.WriteLine(&quot; [&gt;] Received {0}&quot;, job.Message);
                                Console.WriteLine(&quot; [&gt;] Received {0}&quot;, job.Type);
                        
                                Thread.Sleep(job.HowManySecondsWillJobTake * 1000);
                                channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);
                                Console.ForegroundColor = ConsoleColor.Green;
                                Console.WriteLine(&quot; [&gt;] Done&quot;);
                                Console.ForegroundColor = ConsoleColor.Gray;
                        
                            };
                        
                        
                            channel.BasicConsume(queue: &quot;RabbitMqDotNet6Tutorial.02&quot;, 
                                autoAck: false,
                                consumer: consumer);
                        
                            Console.WriteLine(&quot; Press [enter] to end program.&quot;);
                            Console.ReadLine();
                        }
                        
                        ConsoleColor GetRandomConsoleColor()
                        {
                            Random _random = new Random();
                            var consoleColors = Enum.GetValues(typeof(ConsoleColor));

                            return (ConsoleColor)consoleColors.
                                GetValue(_random.Next(consoleColors.Length));
                        }                                  
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">RabbitMQ.Client Reciver Example of ACK 2RabbitMQ.NewJob.WorkerThatCanFail.Reciver</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">



























































                        using RabbitMQ.Client;
                        using RabbitMQ.Client.Events;
                        using System.Text;
                        using System.Text.Json;
                        
                        
                        Console.ForegroundColor = GetRandomConsoleColor();
                        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };
                        using (var connection = factory.CreateConnection())
                        
                            while (true)
                            {
                                using (var channel = connection.CreateModel())
                                {
                                    channel.QueueDeclare(queue: &quot;RabbitMqDotNet6Tutorial.02&quot;, 
                                    durable: true, exclusive: false, 
                                    autoDelete: false, arguments: null);
                        
                                    channel.BasicQos(prefetchSize: 0, 
                                        prefetchCount: 1, 
                                        global: false);
                        
                                    Console.WriteLine(&quot; [*] Waiting for jobs.&quot;);
                        
                                    var consumer = new EventingBasicConsumer(channel);
                                    consumer.Received += (model, ea) =&gt;
                                    {
                                        byte[] body = ea.Body.ToArray();
                                        var jobAsJsonText = Encoding.UTF8.GetString(body);
                        
                                        Job job = JsonSerializer.Deserialize&lt;Job&gt;(jobAsJsonText);
                        
                                        Console.WriteLine(&quot; [&gt;] Received {0}&quot;, job.Message);
                                        Console.WriteLine(&quot; [&gt;] Received {0}&quot;, job.Type);
                        
                        
                                        if (job.ShouldFaillOnWorkerTwo == false)
                                        {
                                            Thread.Sleep(job.HowManySecondsWillJobTake * 500);

                                            channel.BasicAck(deliveryTag: ea.DeliveryTag, 
                                                multiple: false);

                                            Console.ForegroundColor = ConsoleColor.Green;
                                            Console.WriteLine(&quot; [&gt;] Done&quot;);
                                            Console.ForegroundColor = ConsoleColor.Gray;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.Red;
                                            Console.WriteLine($&quot; [x] Fail {job.Message}&quot;);
                                            Console.WriteLine($&quot; [x] Fail {job.Type}&quot;);
                                            Console.ForegroundColor = ConsoleColor.Gray;
                        
                                        }
                        
                                    };
                                              
                                    channel.BasicConsume
                                        (queue: &quot;RabbitMqDotNet6Tutorial.02&quot;, 
                                        autoAck: false,
                                        consumer: consumer);
                        
                                    Console.WriteLine
                                        (&quot; Press [enter] to restart connection.CreateModel()&quot;);
                                    Console.ReadLine();
                                }
                            }
                        
                        
                        ConsoleColor GetRandomConsoleColor()
                        {
                            Random _random = new Random();
                            var consoleColors = Enum.GetValues(typeof(ConsoleColor));
                            return (ConsoleColor)consoleColors.GetValue(_random.Next(consoleColors.Length));
                        }
                        
                        
                                                
                    </code>
                </pre>
            </div>
        </div>
    </section>
    





    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/27.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/28.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/29.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/30.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/31.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/32.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">EasyNetQ Sender Example of ACK</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">









































                        using EasyNetQ;
                        using Newtonsoft.Json;
                        
                        while (true)
                        {
                            Console.WriteLine
                            (&quot;Write [.] to increase time to do job for worker. Foreach [.]&quot;);
                            Console.WriteLine(
                                &quot;Write [!] at least once. To make one worker fail job&quot;);
                            Console.WriteLine
                            (&quot;Write [q] or [Q] to exit.&quot;);
                        
                            string whatuserwrote = Console.ReadLine();
                        
                            if (whatuserwrote == &quot;q&quot; || whatuserwrote == &quot;Q&quot;)
                                break;
                            if (string.IsNullOrEmpty(whatuserwrote))
                                continue;
                        
                            Job job = CreateJob(whatuserwrote);
                        
                            using (var bus = RabbitHutch.CreateBus(&quot;host=localhost&quot;))
                            {
                        
                                await bus.SendReceive.SendAsync&lt;Job&gt;(&quot;2EasyNetMQ.NewJob.Queue&quot;
                                    , job
                                );
                            }
                        
                            string message = JsonConvert.SerializeObject(job);
                            WriteMessageOnConsole(message);
                        }
                        
                        
                        Job CreateJob(string usertext)
                        {
                            int howManySecondsWillJobTake = usertext.Split(&#39;.&#39;).Length - 1;
                            bool shouldFail = usertext.IndexOf(&#39;!&#39;) &gt; 0;
                        
                            string message = usertext.Replace(&quot;!&quot;, &quot;&quot;)
                                .Replace(&quot;.&quot;, &quot;&quot;);
                        
                            return new Job()
                            {
                                Message = message,
                                HowManySecondsWillJobTake = howManySecondsWillJobTake,
                                Type = JobType.SendEmail,
                                ShouldFaillOnWorkerTwo = shouldFail
                        
                            };
                        }
                        
                        void WriteMessageOnConsole(string message)
                        {
                            Console.WriteLine(&quot;&quot;);
                            Console.ForegroundColor = ConsoleColor.Green;
                            Console.WriteLine(&quot;\tSent {0}&quot;, message);
                            Console.ForegroundColor = ConsoleColor.Gray;
                            Console.WriteLine(&quot;&quot;);
                        }
                        
                                            
                    </code>
                </pre>
            </div>
        </div>
    </section>


    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">EasyNetQ Reciver Example of ACK</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">





















                        using EasyNetQ;
                        
                        var connectionString = "host=localhost"; 
                            // RabbitMQ connection string
                        
                        using (var bus = RabbitHutch.CreateBus(connectionString))
                        {
                        
                            var queueName = "2EasyNetMQ.NewJob.Queue"; 
                                // Replace with your queue name
                            bus.Advanced.QueueDeclare(queueName, durable: true, false, false);
                        
                            await bus.SendReceive.ReceiveAsync<Job>
                                (queueName, HandleMessage, x => x.WithAutoDelete(false));
                        
                            Console.WriteLine("Press [enter] to exit.");
                            Console.ReadLine();
                        }
                        
                        static void HandleMessage(Job job)
                        {
                            try
                            {
                                // Process the message
                                Console.WriteLine(" [>] Received {0}", job.Message);
                                Console.WriteLine(" [>] Received {0}", job.Type);
                                Thread.Sleep(job.HowManySecondsWillJobTake * 1000);
                        
                                // Manually ACK the message
                                // YOU CAN'T DO THIS WITH EasyNetQ
                                // Note: EasyNetQ automatically ACKs messages by default.
                        
                                Console.ForegroundColor = ConsoleColor.Green;
                                Console.WriteLine(" [>] Done");
                                Console.ForegroundColor = ConsoleColor.Gray;
                            }
                            catch (Exception ex)
                            {
                                Console.WriteLine($"Error processing message: {ex.Message}");
                                // Handle any exceptions or log errors here
                            }
                        }                                                 
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">EasyNetQ Reciver Example of error queque</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">




























                        using EasyNetQ;
                        
                        var connectionString = "host=localhost"; 
                            // RabbitMQ connection string
                        
                        using (var bus = RabbitHutch.CreateBus(connectionString))
                        {
                            var queueName = "2EasyNetMQ.NewJob.Queue"; 
                                // Replace with your queue name
                            bus.Advanced.QueueDeclare(queueName, durable: true, false, false);
                        
                            // Subscribe to messages
                            await bus.SendReceive.ReceiveAsync<Job>
                                (queueName, HandleMessage, x => x.WithAutoDelete(false));
                        
                            Console.WriteLine("Press [enter] to exit.");
                            Console.ReadLine();
                        }
                        
                        static void HandleMessage(Job job)
                        {
                        
                            if (job.ShouldFaillOnWorkerTwo == false)
                            {
                                // Note: EasyNetQ automatically ACKs messages by default.
                        
                                Thread.Sleep(job.HowManySecondsWillJobTake * 500);
                                Console.ForegroundColor = ConsoleColor.Green;
                                Console.WriteLine(" [>] Done");
                                Console.ForegroundColor = ConsoleColor.Gray;
                            }
                            else
                            {
                                // Manually N-ACK the message
                                // YOU CAN'T DO THIS WITH EasyNetQ
                        
                                Console.ForegroundColor = ConsoleColor.Red;
                                Console.WriteLine($" [x] Fail {job.Message}");
                                Console.WriteLine($" [x] Fail {job.Type}");
                                Console.ForegroundColor = ConsoleColor.Gray;
                        
                                // THIS WILL SEND MESSAGE TO DEAD-LETTER QUEQUE
                                // DEFAULT NAME OF THIS QUEQUE IS
                                // EasyNetQ_Default_Error_Queue
                                throw new Exception("JOB FAILED");
                            }
                        
                        }                                           
                    </code>
                </pre>
            </div>
        </div>
    </section>

    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/33.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/34.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/35.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/36.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/37.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/38.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/39.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/40.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/41.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/42.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/43.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/44.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <!-- WYSŁANIE WIADOMOŚCI DO WIELU RABBITMQ-->
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">RabbitMQ.Client Fanout</h2>
            </div>
            <div class="PlaceCodeHere ">
                <pre style="font-size: 23px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 23px !important;">


                        using RabbitMQ.Client;
                        using System.Text;
                        
                        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };
                        
                        using (var connection = factory.CreateConnection())
                        using (var channel = connection.CreateModel())
                        {
                            channel.ExchangeDeclare(exchange: &quot;RabbitMqDotNet6Tutorial.03&quot;,
                                type: ExchangeType.Fanout,
                                durable: true, autoDelete: false, arguments: null);
                        
                            while (true)
                            {
                                var message = &quot;Daj mi ocene 5!&quot;;
                                var body = Encoding.UTF8.GetBytes(message);
                                channel.BasicPublish(exchange: &quot;RabbitMqDotNet6Tutorial.03&quot;,
                                    routingKey: &quot;&quot;,
                                    basicProperties: null, body: body);
                                Console.WriteLine(&quot; [x] Sent {0}&quot;, message);
                                Console.ReadLine();
                            }                      
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">RabbitMQ.Client Fanout</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 20px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 20px !important;">


                        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };
                        using (var connection = factory.CreateConnection())
                        using (var channel = connection.CreateModel())
                        {
                            channel.ExchangeDeclare(exchange: &quot;RabbitMqDotNet6Tutorial.03&quot;,
                                type: ExchangeType.Fanout, durable: true, autoDelete: false, arguments: null);
                        
                            var queueName = channel.QueueDeclare().QueueName;
                            channel.QueueBind(queue: queueName,
                                exchange:
                                &quot;RabbitMqDotNet6Tutorial.03&quot;, routingKey: &quot;&quot;);
                        
                            Console.WriteLine(&quot; [*] Waiting for logs.&quot;);
                        
                            var consumer = new EventingBasicConsumer(channel);
                            consumer.Received += (model, ea) =&gt;
                            {
                                byte[] body = ea.Body.ToArray();
                                var message = Encoding.UTF8.GetString(body);
                                Console.WriteLine(&quot; [x] {0}&quot;, message);
                            };
                            channel.BasicConsume(queue: queueName, autoAck: true, consumer: consumer);
                        
                            Console.WriteLine(&quot; Press [enter] to exit.&quot;);
                            Console.ReadLine();
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">EasyNetQ Fanout</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 20px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 20px !important;">
                        using EasyNetQ;
                        using EasyNetQ.Topology;
                        
                        using (var bus = RabbitHutch.CreateBus(&quot;host=localhost&quot;))
                        {
                            var message = &quot;Daj mi ocene 5!&quot;;
                        
                            await bus.PubSub.PublishAsync&lt;String&gt;(
                                    message
                                );
                        
                            Console.WriteLine(&quot; [x] Sent {0}&quot;, message);
                            Console.ReadLine();
                        }
                        
                        
                        static void AddCustom(IBus bus)
                        {
                            var exchange = bus.Advanced.ExchangeDeclare(
                                &quot;3EasyNetQ.PublishToMany.Exchange&quot;, ExchangeType.Fanout);
                            var queue = bus.Advanced.QueueDeclare
                                (&quot;3EasyNetQ.PublishToMany.Queue&quot;,
                                durable: true, exclusive: false, autoDelete: true);
                            bus.Advanced.Bind(exchange, queue, &quot;#&quot;);
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">EasyNetQ Fanout</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 20px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 20px !important;">






                        using EasyNetQ;
                        using EasyNetQ.Topology;
                        
                        using (var bus = RabbitHutch.CreateBus("host=localhost"))
                        {
                            AddCustom(bus);
                        
                            await bus.PubSub.SubscribeAsync<string>("3EasyNetQ.SubscribeSecond", HandleTextMessage);
                        
                            Console.WriteLine("Listening for messages. Hit <return> to quit.");
                            Console.ReadLine();
                        }
                        
                        static void HandleTextMessage(string textMessage)
                        {
                            Console.ForegroundColor = ConsoleColor.Red;
                            Console.WriteLine("Got message: {0}", textMessage);
                            Console.ResetColor();
                        }
                        
                        static void AddCustom(IBus bus)
                        {
                            var exchange = bus.Advanced.ExchangeDeclare(
                                "3EasyNetQ.PublishToMany.Exchange", ExchangeType.Fanout);
                            var queue = bus.Advanced.QueueDeclare
                                ("3EasyNetQ.PublishToMany.Queue",
                                durable: true, exclusive: false, autoDelete: true);
                            bus.Advanced.Bind(exchange, queue, "#");
                        }
                        
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/45.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <!-- FRAMEWORK OPARTY NA ZDARZENIACH REBUS RABBITMQ -->
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">Rebus events RabbitMQ</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">



































                        public class DocumentSavedEvent
                        {
                            private Guid id;
                            private string filename;
                        
                            [JsonConstructor]
                            public DocumentSavedEvent(Guid id, string filename)
                            {
                                this.Id = id;
                                this.FileName = filename;
                            }
                        
                            public Guid Id { get =&gt; id; set =&gt; id = value; }
                            public string FileName { get =&gt; filename; set =&gt; filename = value; }
                        }
                        
                        public class TradeRecordedEvent
                        {
                            private Guid id;
                            private string commodity;
                            private int quantity;
                        
                            [JsonConstructor]
                            public TradeRecordedEvent(Guid id, string commodity, int quantity)
                            {
                                this.Id = id;
                                this.Commodity = commodity;
                                this.Quantity = quantity;
                            }
                        
                            public Guid Id 
                                { get =&gt; id; set =&gt; id = value; }
                            public string Commodity 
                                { get =&gt; commodity; set =&gt; commodity = value; }
                            public int Quantity 
                                { get =&gt; quantity; set =&gt; quantity = value; }
                        }
                        
                        public class UserLoggedEvent
                        {
                            private Guid id;
                            private string username;
                        
                            [JsonConstructor]
                            public UserLoggedEvent(Guid id, string username)
                            {
                                this.Id = id;
                                this.UserName = username;
                            }
                        
                            public Guid Id { get =&gt; id; set =&gt; id = value; }
                            public string UserName { get =&gt; username; set =&gt; username = value; }
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>    

    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">Rebus events RabbitMQ</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 24px !important;">









































































                        using Rebus.Activation;
                        using Rebus.Bus;
                        using Rebus.Config;
                        
                        using (var activator = new BuiltinHandlerActivator())
                        {
                            var bus = Configure.With(activator)
                                .Transport(t =&gt; t.UseRabbitMqAsOneWayClient
                                    (&quot;amqp://guest:guest@localhost:5672&quot;))
                                .Start();
                        
                            await Task.Delay(500);
                        
                            Console.WriteLine(&quot;Trading is running&quot;);
                        
                            while (true)
                            {
                                Console.WriteLine(@&quot;
                                    a) Publish TradeRecordedEvent
                                    b) Publish DocumentSavedEvent
                                    c) Publish UserLogedEvent
                                    q) Quit&quot;);
                        
                                var keyChar = char.ToLower(Console.ReadKey(true).KeyChar);
                        
                                switch (keyChar)
                                {
                                    case &#39;a&#39;:
                                        await SendTradeRecordedEventAsync(bus);
                                        break;
                                    case &#39;b&#39;:
                                        await SendDocumentSavedAsync(bus);
                                        break;
                                    case &#39;c&#39;:
                                        await SendUserLoggedEventAsync(bus);
                                        break;
                                    case &#39;q&#39;:
                                        break;
                                    default:
                                        Console.WriteLine(&quot;There&#39;s no option ({0})&quot;, keyChar);
                                        break;
                                }
                            }
                        
                        }
                                        
                        
                        async Task SendTradeRecordedEventAsync(IBus bus)
                        {
                            Console.WriteLine(&quot;Please enter new trade details&quot;);
                            Console.WriteLine(&quot; commodity &gt; &quot;);
                            var commodity = Console.ReadLine();
                            if (string.IsNullOrWhiteSpace(commodity)) return;
                        
                            int quantity;
                            Console.WriteLine(&quot; quantity &gt; &quot;);
                            while (!int.TryParse(Console.ReadLine(), out quantity)) ;
                        
                            var tradeEvent = new TradeRecordedEvent
                                (Guid.NewGuid(), commodity, quantity);
                            await bus.Publish(tradeEvent);
                        
                            Console.WriteLine(&quot;Sended tradeEvent&quot;);
                        }
                        
                        async Task SendDocumentSavedAsync(IBus bus)
                        {
                            Console.WriteLine(&quot;Please enter new document details&quot;);
                            Console.WriteLine(&quot; document name &gt; &quot;);
                            var documentName = Console.ReadLine();
                            if (string.IsNullOrWhiteSpace(documentName)) return;
                        
                            var docEvent = new DocumentSavedEvent
                                (Guid.NewGuid(), documentName);
                            await bus.Publish(docEvent);
                        
                            Console.WriteLine(&quot;Sended docEvent&quot;);
                        }
                        
                        async Task SendUserLoggedEventAsync(IBus bus)
                        {
                            Console.WriteLine(&quot;Please enter new trade details&quot;);
                            Console.WriteLine(&quot; Username &gt; &quot;);
                            var username = Console.ReadLine();
                            if (string.IsNullOrWhiteSpace(username)) return;
                        
                            var userEvent = new UserLoggedEvent(Guid.NewGuid(), username);
                            await bus.Publish(userEvent);
                        
                            Console.WriteLine(&quot;Sended userEvent&quot;);
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>    
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">Rebus events RabbitMQ</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 20px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 20px !important;">







































                        




                        using Rebus.Activation;
                        using Rebus.Config;
                        using Rebus.Routing.TypeBased;
                        
                        using (var activator = new BuiltinHandlerActivator())
                        {
                            activator.Register(() =&gt; new TradeRecordedEventHandler());
                            activator.Register(() =&gt; new UserLoggedEventHandler());
                            activator.Register(() =&gt; new DocumentSavedEventHandler());
                        
                            var bus = Configure.With(activator)
                                .Logging
                                    (l =&gt; l.ColoredConsole(minLevel: Rebus.Logging.LogLevel.Warn))
                                .Transport
                                    (t =&gt; t.UseRabbitMq(&quot;amqp://guest:guest@localhost:5672&quot;,
                                     &quot;Rebus.SystemTooBig.Trading&quot;))
                                .Routing
                                    (r =&gt; r.TypeBased().
                                    MapAssemblyOf&lt;TradeRecordedEvent&gt;(&quot;Rebus.SystemTooBig.Trading&quot;))
                                .Start();
                        
                            await bus.Subscribe&lt;TradeRecordedEvent&gt;();
                            await bus.Subscribe&lt;UserLoggedEvent&gt;();
                            await bus.Subscribe&lt;DocumentSavedEvent&gt;();
                        
                            Console.WriteLine(&quot;Invoicing is running - press Enter to quite&quot;);
                            Console.ReadKey();
                        }
                        
                        internal class DocumentSavedEventHandler : IHandleMessages&lt;DocumentSavedEvent&gt;
                        {
                            public DocumentSavedEventHandler()
                            {
                            }
                        
                            public async Task Handle(DocumentSavedEvent message)
                            {
                                Console.WriteLine
                                    ($&quot;Document was saved: {message.Id} ({message.FileName})&quot;);
                            }
                        }
                        
                        internal class TradeRecordedEventHandler : IHandleMessages&lt;TradeRecordedEvent&gt;
                        {
                            public TradeRecordedEventHandler()
                            {
                            }
                        
                            public async Task Handle(TradeRecordedEvent message)
                            {
                                Console.WriteLine
                                    ($&quot;Invocing trade: {message.Id} ({message.Quantity} x {message.Commodity})&quot;);
                            }
                        }
                        
                        internal class UserLoggedEventHandler : IHandleMessages&lt;UserLoggedEvent&gt;
                        {
                            public UserLoggedEventHandler()
                            {
                            }
                        
                            public async Task Handle(UserLoggedEvent message)
                            {
                                Console.WriteLine
                                    ($&quot;User was logged: {message.Id} ({message.UserName})&quot;);
                            }
                        }
                        
                    </code>
                </pre>
            </div>
        </div>
    </section>    
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/46.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/47.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/48.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/49.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/50.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/51.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/52.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/53.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/54.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>



    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/55.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/56.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/57.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/58.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/59.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/60.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/61.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/62.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/63.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/64.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/65.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/66.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/67.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/68.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/69.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/70.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>

    <!-- KAFKA CONFULENCE  --> 
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">Confluent.Kafka;</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 21px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 21px !important;">
                    






































































                        using _1Kafka.Confluent.Common;
                        using Confluent.Kafka;
                        using System.Net;
                        using System.Text.Json;
                        
                        string bootstrapServers = &quot;localhost:9092&quot;;
                        string topic = &quot;1Kafka.Confluent.Test&quot;;
                        char c = &#39; &#39;;
                        int messageId = 0;
                        
                        while (c != &#39;q&#39;)
                        {
                            var messagerequest = GetMessageRequest();
                            string json = JsonSerializer.Serialize(messagerequest);
                            await SendMessageRequest(topic, json);
                        
                            Console.WriteLine(&quot;Press any key to continue&quot;);
                            Console.WriteLine(&quot;Press &#39;q&#39; to exit&quot;);
                            c = Console.ReadKey().KeyChar;
                            Console.WriteLine(&quot;&quot;);
                        }
                        
                        MessageRequest GetMessageRequest()
                        {
                            string message = &quot;&quot;;
                            int color = -1;
                            while (string.IsNullOrWhiteSpace(message) || color == -1)
                            {
                                Console.WriteLine(&quot;Write Your Message&quot;);
                                message = Console.ReadLine();
                                Console.WriteLine(&quot;Choose Color&quot;);
                        
                                for (int i = 0; i &lt; 16; i++)
                                {
                                    Console.ForegroundColor = (ConsoleColor)i;
                                    Console.WriteLine($&quot;{i} . {((ConsoleColor)i).ToString()}&quot;);
                        
                                }
                                Console.ResetColor();
                        
                                int colora;
                                bool check = int.TryParse(Console.ReadLine(), out colora);
                        
                                if (!check)
                                    continue;
                                color = colora;
                            }
                            messageId++;
                            MessageRequest messageRequest = new()
                            {
                                Color = color,
                                Message = message,
                                Id = messageId,
                                UniqueId = Guid.NewGuid(),
                                StartProducer = DateTime.Now
                            };
                        
                            return messageRequest;
                        }
                        
                        
                        async Task&lt;bool&gt; SendMessageRequest(string topic, string message)
                        {
                            ProducerConfig config = new ProducerConfig
                            {
                                BootstrapServers = bootstrapServers,
                                ClientId = Dns.GetHostName(),
                        
                            };
                        
                            try
                            {
                                using (var producer = new ProducerBuilder
                                &lt;Null, string&gt;(config).Build())
                                {
                        
                        
                                    var result = await producer.ProduceAsync
                                    (topic, new Message&lt;Null, string&gt;
                                    {
                                        Value = message
                                    });
                        
                                    Console.WriteLine($&quot;Delivery Timestamp:{result.Timestamp.UtcDateTime}&quot;);
                                    return await Task.FromResult(true);
                                }
                            }
                            catch (Exception ex)
                            {
                                Console.WriteLine($&quot;Error occured: {ex.Message}&quot;);
                            }
                        
                            return await Task.FromResult(false);
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section> 
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">Confluent.Kafka</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 21px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 21px !important;">
                    


































                        using _1Kafka.Confluent.Common;
                        using Confluent.Kafka;
                        using System.Net;
                        using System.Text.Json;
                        
                        int unique = 5;
                        
                        string topic = &quot;1Kafka.Confluent.Test&quot;;
                        string groupId = &quot;1Kafka.Confluent.Test_Group_&quot; + unique.ToString();
                        string bootstrapServers = &quot;localhost:9092&quot;;
                        
                        Console.WriteLine($&quot;{topic} GROUP ID : {groupId}&quot;);
                        
                        var config = new ConsumerConfig
                        {
                            GroupId = groupId,
                            BootstrapServers = bootstrapServers,
                            AutoOffsetReset = AutoOffsetReset.Earliest
                        };
                        
                        try
                        {
                            using (var consumerBuilder = new ConsumerBuilder
                            &lt;Ignore, string&gt;(config).Build())
                            {
                                consumerBuilder.Subscribe(topic);
                                var cancelToken = new CancellationTokenSource();
                        
                                try
                                {
                                    while (true)
                                    {
                                        var consumer = consumerBuilder.Consume
                                           (cancelToken.Token);
                                        var messageRequest = JsonSerializer.Deserialize
                                            &lt;MessageRequest&gt;
                                                (consumer.Message.Value);
                        
                                        Console.WriteLine($&quot;\nProducerStarted: {messageRequest.StartProducer}&quot;);
                                        Console.WriteLine($&quot;\nProcessing Number: {messageRequest.Id}&quot;);
                                        Console.WriteLine($&quot;Processing UniqueId: {messageRequest.UniqueId}&quot;);
                                        if (messageRequest.Color &gt;= 0 &amp;&amp; messageRequest.Color &lt;= 15)
                                            Console.ForegroundColor = (ConsoleColor)messageRequest.Color;
                                        Console.WriteLine(messageRequest.Message);
                                        Console.ResetColor();
                                        Console.WriteLine(&quot;&quot;);
                                    }
                                }
                                catch (OperationCanceledException)
                                {
                                    consumerBuilder.Close();
                                }
                            }
                        }
                        catch (Exception ex)
                        {
                            Console.WriteLine(ex.Message);
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>   
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/71.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>

    <!-- KAFKA FLOW  -->    
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">KafkaFlow</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 21px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 21px !important;">

























                        using KafkaFlow;
                        using KafkaFlow.Producers;
                        using KafkaFlow.Serializer;
                        
                        var builder = WebApplication.CreateBuilder(args);
                        
                        builder.Services.AddKafka(
                            kafka =&gt; kafka
                                .AddCluster(cluster =&gt;
                                {
                                    const string topicName = &quot;1KafkaFlow&quot;;
                                    cluster
                                        .WithBrokers(new[] { &quot;localhost:9092&quot; })
                                        .CreateTopicIfNotExists(topicName, 
                                            numberOfPartitions: 3, replicationFactor: 3)
                                        .AddProducer(
                                            name: &quot;1KafkaFlow.Producer&quot;,
                                            producer =&gt; producer
                                                .DefaultTopic(topicName)
                                                .AddMiddlewares(middlewares =&gt;
                                                    middlewares
                                                        .AddSerializer&lt;JsonCoreSerializer&gt;()));
                                })
                        );
                        
                        var app = builder.Build();
                        
                        app.MapPost(&quot;/add&quot;, RequestHandler.HandleAsync);
                        
                        app.Run();
                        
                        // Handler
                        public static class RequestHandler
                        {
                            public static async Task&lt;IResult&gt; HandleAsync(
                                IProducerAccessor producerAccessor,
                                AddTaskRequest request, CancellationToken cancellationToken)
                            {
                                var producer = producerAccessor.GetProducer(&quot;1KafkaFlow.Producer&quot;);
                        
                                await producer.ProduceAsync(
                                    null,
                                    request
                                );
                        
                                return Results.Accepted();
                            }
                        }
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide prism over bhgry">
        <div class="grid-container">
            <div class="HeaderTitle GG"> 
                <h2 class="headerCODE GG">KafkaFlow</h2>
            </div>
            <div class="PlaceCodeHere canscroll">
                <pre style="font-size: 21px;overflow: hidden;  " class="language-csharp">
                    <code style="line-height: 21px !important;">





















                        using KafkaFlow;
                        using KafkaFlow.Serializer;
                        using Microsoft.Extensions.DependencyInjection;
                        using Microsoft.Extensions.Logging;
                        
                        const string topicName = &quot;1KafkaFlow&quot;;
                        int unique = 5;
                        string groupId = &quot;1KafkaFlow_Group_&quot; + unique.ToString();
                        var services = new ServiceCollection();
                        
                        services.AddKafkaFlowHostedService(
                            kafka =&gt; kafka
                                .UseMicrosoftLog()
                                .AddCluster(cluster =&gt;
                                {
                                    cluster
                                        .WithBrokers(new[] { &quot;localhost:9092&quot; })
                                        .AddConsumer(consumer =&gt;
                                            consumer
                                                .Topic(topicName)
                                                .WithGroupId(groupId)
                                                .WithBufferSize(100)
                                                .WithWorkersCount(3)
                                                .WithAutoOffsetReset(KafkaFlow.AutoOffsetReset.Earliest)
                                                .AddMiddlewares(middlewares =&gt; middlewares
                                                    .AddDeserializer&lt;JsonCoreDeserializer&gt;()
                                                    .AddTypedHandlers(handlers =&gt;
                                                        handlers.AddHandler&lt;AddTaskHandler&gt;()
                                                    )
                                                )
                                        );
                                })
                        );
                        
                        services.AddLogging(configure =&gt; configure.AddConsole());
                        
                        var provider = services.BuildServiceProvider();
                        var bus = provider.CreateKafkaBus();
                        
                        await bus.StartAsync();
                        
                        Console.WriteLine(&quot;Press key to exit&quot;);
                        Console.ReadKey();
                    </code>
                </pre>
            </div>
        </div>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/72.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/73.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>
    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/74.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>

    <section class="slide" style="background-color:black">
        <figure>
            <img class="cover" src="pictures/WDI24-212-OMST-06.png" alt="blog">
            <figcaption class="white">CW</figcaption>
        </figure>
    </section>

    <!-- <div class="progress"></div> -->
    <footer class="badge badge-top-left">
        <a href="#" class="fullscreen">Fullscreen</a>
    </footer>

    <script src="vendors/gamepad/gamepad.js"></script>
    <script src="vendors/shower/shower.min.js"></script>
    <script src="vendors/shower-gamepad/shower.gamepad.js"></script>

    <!-- Prism.js -->
    <script src="vendors/prism/prism.js"></script>
    <script src="vendors/prism/custom-prism.js"></script>

</body>

</html>