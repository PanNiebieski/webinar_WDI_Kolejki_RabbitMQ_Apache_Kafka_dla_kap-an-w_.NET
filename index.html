<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Kolejki RabbitMQ Apache Kafka dla kapłanów .NET</title>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width" />
        <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,900&amp;subset=latin-ext" rel="stylesheet" />
        <!-- Shower Theme -->
        <link rel="stylesheet" href="vendors/shower-ribbon/styles/screen-16x9.css" />
        <link rel="stylesheet" href="vendors/shower-CezaryWalenciuk/styles/main.css" />
        <!-- Prism.js -->
        <link rel="stylesheet" href="vendors/prism/prism-my-white.css" />
        <link rel="stylesheet" href="vendors/prism/custom-prism.css" />
        <link rel="stylesheet" href="codegrid-white.css" />
    
        <meta property="og:type" content="website">
        <meta property="og:title" content="Kolejki RabbitMQ Apache Kafka dla kapłanów .NET">
        <meta property="og:description" content="Presentation for WDI">
        <meta property="og:url" content="https://panniebieski.github.io/webinary_Serce_Produktywnosc_rycerza_walczacym_z_korpo_smokiem/">
        <meta property="og:site_name" content="Kolejki RabbitMQ Apache Kafka dla kapłanów .NET">
        <meta property="og:image" content="https://panniebieski.github.io/webinary_Serce_Produktywnosc_rycerza_walczacym_z_korpo_smokiem/forSocialMedia/FacebookImageForMainPage.jpg"><meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta name="twitter:title" content="Kolejki RabbitMQ Apache Kafka dla kapłanów .NET">
        <meta name="twitter:description" content="Presentation for WDI">
        <meta name="twitter:image" content="https://panniebieski.github.io/webinary_Serce_Produktywnosc_rycerza_walczacym_z_korpo_smokiem/forSocialMedia/FacebookImageForMainPage.jpg">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@walenciukc">
        <link rel="icon" type="image/png" sizes="16x16" href="https://panniebieski.github.io/webinary_Serce_Produktywnosc_rycerza_walczacym_z_korpo_smokiem/forSocialMedia/icon/icon16x16.png">
        <link rel="apple-touch-icon" href="https://panniebieski.github.io/webinary_Serce_Produktywnosc_rycerza_walczacym_z_korpo_smokiem/forSocialMedia/icon180x180.png">
        <link rel="shortcut icon" href="https://panniebieski.github.io/webinary_Serce_Produktywnosc_rycerza_walczacym_z_korpo_smokiem/forSocialMedia/icon16x16.png">
        <meta name="msapplication-square150x150logo" content="https://panniebieski.github.io/webinary_Serce_Produktywnosc_rycerza_walczacym_z_korpo_smokiem/forSocialMedia/icon180x180.png">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    </head>
<body class="shower list">

    <header class="caption">
        <h1>Kolejki RabbitMQ Apache Kafka dla kapłanów .NET</h1>
        <p></p>
    </header>
    <section class="slide front-page">
        <div class="details">
            <!-- 1. Avatar -->
            <span>Cezary Walenciuk</span>
            <!-- 3. Presentation title -->
            <h2 class="bigbig"><strong style="font-size: 35px;  line-height: 1.3;">

                    <span class="titlec1">Kolejki</span>
                    <br />
                    <span class="titlec5">RabbitMQ, Apache Kafka<span>
                    <br />
                    <span class="titlec3">dla kapłanów .NET</span></strong></h2>
            <!-- 5. Contact the speaker -->
            <h2><a href="https://twitter.com/WalenciukC">@walenciukC</a></h2>
        </div>
        <div>
            <!-- 2. Speaker -->
        </div>
        <div class="imag">
            <img src="images/my-avatar.jpg" alt="Speaker">
        </div>
    </section>
  
    <!--

Czy jesteś zainteresowany Kafką, RabbitMQ, kolejkami? 
Nigdy nie miałeś czasu, aby się w to zagłębić? Nie ma problemu. 
W tej sesji zagłębimy się w ten temat. Wyruszymy w podróż, aby odkryć, w jaki sposób zbudowałem system sterowany kolejkami.
Skupimy się na elementach, które trzeba znać, aby budować takie aplikacje. Poznamy podstawowe koncepcje i zalecenia. Dowiemy się też, jak używać C# i KafkaFlow oraz innych bibliotek dla .NET jak Rebus oraz RabbitMQ.Client.
Nawet jeśli jeszcze nic o tym nie wiesz, zapewniam, że wrócisz do domu z podstawami, aby rozpocząć swoją podróż po Kafce lub RabbitMQ.

- Co to jest kolejka?
- Pokazanie prostych przykładów z RabbitMQ z RabbitMQ.Client
- Zaawansowane przykłady z kolejkami oparte na zdarzeniach z biblioteką Rebus z RabbitMQ
- Potrzeba więcej mocy? Stosowanie Apache Kafka
- Partycje, brokery i cluster
- Apache Kafka w .NET z KafkaFlow
- Przepływ zdarzeń w aplikacji
- O czym warto pamiętać

-->

  
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/1.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/2.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/3.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/3.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/4.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/5.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/6.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/7.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/8.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/9.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/10.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/11.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/12.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/13.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/14.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/15.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/16.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/17.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/18.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/19.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/20.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/21.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/22.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/23.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/24.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/25.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<!--DEMO PROSTE WYSŁANIE WIADOMOŚCI-->
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Sender</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">
















                    
                        using RabbitMQ.Client;
                        using System.Text;
                    
                        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };
                        using (var connection = factory.CreateConnection())
                        using (var channel = connection.CreateModel())
                        {
                            channel.QueueDeclare(queue: &quot;RabbitMqDotNetTutorial.01&quot;,
                                durable: false,
                                exclusive: false,
                                autoDelete: false,
                                arguments: null);
                        
                            while (true)
                            {
                                Console.WriteLine(AppInfo.Value);
                        
                                Console.WriteLine(&quot;Write what you want to send&quot;);
                                Console.WriteLine(&quot;Write nothing to exit.&quot;);
                        
                                string usermessage = Console.ReadLine();
                        
                                if (string.IsNullOrWhiteSpace(usermessage))
                                    break;
                        
                                string message = usermessage;
                                var body = Encoding.UTF8.GetBytes(message);
                        
                                channel.BasicPublish(exchange: &quot;&quot;,
                                    routingKey: &quot;RabbitMqDotNetTutorial.01&quot;,
                                    basicProperties: null, body);
                        
                                Console.WriteLine(&quot;&quot;);
                                Console.ForegroundColor = ConsoleColor.Green;
                                Console.WriteLine(&quot;\tSent {0}&quot;, message);
                                Console.ForegroundColor = ConsoleColor.Gray;
                                Console.WriteLine(&quot;&quot;);
                            }
                        
                        }
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Reciver</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">



















                        using RabbitMQ.Client.Events;
                        using RabbitMQ.Client;
                        using System.Text;

                        var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };

                        using (var connection = factory.CreateConnection())
                        using (var channel = connection.CreateModel())
                        {
                            channel.QueueDeclare(queue: &quot;RabbitMqDotNet6Tutorial.01&quot;,
                             durable: false,
                                exclusive: false, autoDelete: false, arguments: null);
                        
                            Console.WriteLine(AppInfo.Value);
                            Console.WriteLine(&quot; Waiting for messages.&quot;);
                        
                            var consumer = new EventingBasicConsumer(channel);
                        
                            consumer.Received += (model, ea) =&gt;
                            {
                                var message = Encoding.UTF8.GetString(ea.Body.ToArray());
                                Console.Write(&quot;-&gt; Received: &quot;);
                                Console.ForegroundColor = ConsoleColor.Green;
                                Console.WriteLine(message);
                                Console.ForegroundColor = ConsoleColor.Gray;
                        
                                //channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);
                            };
                        
                            channel.BasicConsume(queue: &quot;RabbitMqDotNet6Tutorial.01&quot;,
                            autoAck: true, consumer: consumer);
                        
                        
                            char key = &#39;z&#39;;
                        
                            while (key != &#39;q&#39; &amp;&amp; key != &#39;Q&#39;)
                            {
                                Console.WriteLine(&quot; Press [q] or [Q] to exit.&quot;);
                                key = Console.ReadKey().KeyChar;
                            }
                        
                        }
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">EasyNetQ Reciver</h2>
        </div>
        <div class="PlaceCodeHere ">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">

                        using (var bus = RabbitHutch.CreateBus(&quot;host=localhost&quot;))
                        {
                            for (int i = 0; i &lt; 10; i++)
                            {
                                await bus.SendReceive.SendAsync(&quot;1EasyNetMQ.Queue&quot;,
                                    new TextMessage()
                                    { Text = i + &quot;: Hello World from EasyNetQ&quot; }
                                );
                        
                            }
                        }                    
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">EasyNetQ Reciver</h2>
        </div>
        <div class="PlaceCodeHere ">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">
                    using EasyNetQ;

                    using (var bus = RabbitHutch.CreateBus("host=localhost"))
                    {
                        await bus.SendReceive.ReceiveAsync<TextMessage>("1EasyNetMQ.Queue", HandleTextMessage);
                    
                        Console.WriteLine("Listening for messages. Hit <return> to quit.");
                        Console.ReadLine();
                    }
                    
                    static void HandleTextMessage(TextMessage textMessage)
                    {
                        Console.ForegroundColor = ConsoleColor.Red;
                        Console.WriteLine("Got message: {0}", textMessage.Text);
                        Console.ResetColor();
                    }                                   
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/26.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<!--DEMO CO JEŚLI WIADOMOŚĆ SIĘ NIE PRZETWORZY-->
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Sender Example of ACK</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">



















                        var factory = new ConnectionFactory() { HostName = "localhost" };
                        using (var connection = factory.CreateConnection())
                        
                        using (var channel = connection.CreateModel())
                        {
                            //durbale = true ponieważ chcemy aby nasze zdania istniały po restarcie
                            channel.QueueDeclare(queue: "RabbitMqDotNet6Tutorial.02", true,
                                false, false, null);
                        
                            while (true)
                            {
                                Console.WriteLine("Write [.] to increase time to do job for worker. Foreach [.]");
                                Console.WriteLine("Write [!] at least once. To make one worker fail job");
                                Console.WriteLine("Write [q] or [Q] to exit.");
                        
                                string whatuserwrote = Console.ReadLine();
                        
                                if (whatuserwrote == "q" || whatuserwrote == "Q")
                                    break;
                                if (string.IsNullOrEmpty(whatuserwrote))
                                    continue;
                        
                                Job job = CreateJob(whatuserwrote);
                                string message = JsonConvert.SerializeObject(job);
                        
                                var body = Encoding.UTF8.GetBytes(message);
                        
                                var properties = channel.CreateBasicProperties();
                                properties.Persistent = true;
                        
                                channel.BasicPublish("", routingKey: "RabbitMqDotNet6Tutorial.02",
                                    properties, body);
                        
                                WriteMessageOnConsole(message);
                            }
                        
                        }
                        
                        
                        void WriteMessageOnConsole(string message)
                        {
                            Console.WriteLine("");
                            Console.ForegroundColor = ConsoleColor.Green;
                            Console.WriteLine("\tSent {0}", message);
                            Console.ForegroundColor = ConsoleColor.Gray;
                            Console.WriteLine("");
                        }
                        
                        Job CreateJob(string usertext)
                        {
                            int howManySecondsWillJobTake = usertext.Split('.').Length - 1;
                            bool shouldFail = usertext.IndexOf('!') > 0;
                        
                            string message = usertext.Replace("!", "")
                                .Replace(".", "");
                        
                            return new Job()
                            {
                                Message = message,
                                HowManySecondsWillJobTake = howManySecondsWillJobTake,
                                Type = JobType.SendEmail,
                                ShouldFaillOnWorkerTwo = shouldFail
                        
                            };
                        }                 
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Reciver Example of ACK 2RabbitMQ.NewJob.Worker.Reciver</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">



















                    Console.ForegroundColor = GetRandomConsoleColor();
                    var factory = new ConnectionFactory() { HostName = &quot;localhost&quot; };
                    using (var connection = factory.CreateConnection())
                    
                    using (var channel = connection.CreateModel())
                    {
                        channel.QueueDeclare(queue: &quot;RabbitMqDotNet6Tutorial.02&quot;, durable: true, exclusive: false, autoDelete: false, arguments: null);
                    
                        channel.BasicQos(prefetchSize: 0, prefetchCount: 1, global: false);
                    
                        Console.WriteLine(&quot; [*] Waiting for jobs.&quot;);
                    
                        var consumer = new EventingBasicConsumer(channel);
                    
                        consumer.Received += (model, ea) =&gt;
                        {
                            byte[] body = ea.Body.ToArray();
                            var jobAsJsonText = Encoding.UTF8.GetString(body);
                    
                            Job job = JsonSerializer.Deserialize&lt;Job&gt;(jobAsJsonText);
                    
                            Console.WriteLine(&quot; [&gt;] Received {0}&quot;, job.Message);
                            Console.WriteLine(&quot; [&gt;] Received {0}&quot;, job.Type);
                    
                            Thread.Sleep(job.HowManySecondsWillJobTake * 1000);
                            channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);
                            Console.ForegroundColor = ConsoleColor.Green;
                            Console.WriteLine(&quot; [&gt;] Done&quot;);
                            Console.ForegroundColor = ConsoleColor.Gray;
                    
                        };
                    
                    
                        channel.BasicConsume(queue: &quot;RabbitMqDotNet6Tutorial.02&quot;, autoAck: false,
                            consumer: consumer);
                    
                        Console.WriteLine(&quot; Press [enter] to end program.&quot;);
                        Console.ReadLine();
                    }
                    
                    
                    
                    ConsoleColor GetRandomConsoleColor()
                    {
                        Random _random = new Random();
                        var consoleColors = Enum.GetValues(typeof(ConsoleColor));
                        return (ConsoleColor)consoleColors.GetValue(_random.Next(consoleColors.Length));
                    }                                  
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Reciver Example of ACK 2RabbitMQ.NewJob.WorkerThatCanFail.Reciver</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">



















                    Console.ForegroundColor = GetRandomConsoleColor();
                    var factory = new ConnectionFactory() { HostName = "localhost" };
                    using (var connection = factory.CreateConnection())
                    
                        while (true)
                        {
                            using (var channel = connection.CreateModel())
                            {
                                channel.QueueDeclare(queue: "RabbitMqDotNet6Tutorial.02", durable: true, exclusive: false, autoDelete: false, arguments: null);
                    
                                channel.BasicQos(prefetchSize: 0, prefetchCount: 1, global: false);
                    
                                Console.WriteLine(" [*] Waiting for jobs.");
                    
                                var consumer = new EventingBasicConsumer(channel);
                                consumer.Received += (model, ea) =>
                                {
                                    byte[] body = ea.Body.ToArray();
                                    var jobAsJsonText = Encoding.UTF8.GetString(body);
                    
                                    Job job = JsonSerializer.Deserialize<Job>(jobAsJsonText);
                    
                                    Console.WriteLine(" [>] Received {0}", job.Message);
                                    Console.WriteLine(" [>] Received {0}", job.Type);
                    
                    
                                    if (job.ShouldFaillOnWorkerTwo == false)
                                    {
                                        Thread.Sleep(job.HowManySecondsWillJobTake * 500);
                                        channel.BasicAck(deliveryTag: ea.DeliveryTag, multiple: false);
                                        Console.ForegroundColor = ConsoleColor.Green;
                                        Console.WriteLine(" [>] Done");
                                        Console.ForegroundColor = ConsoleColor.Gray;
                                    }
                                    else
                                    {
                                        Console.ForegroundColor = ConsoleColor.Red;
                                        Console.WriteLine($" [x] Fail {job.Message}");
                                        Console.WriteLine($" [x] Fail {job.Type}");
                                        Console.ForegroundColor = ConsoleColor.Gray;
                    
                                    }
                    
                    
                                };
                    
                    
                                channel.BasicConsume(queue: "RabbitMqDotNet6Tutorial.02", autoAck: false,
                                    consumer: consumer);
                    
                                Console.WriteLine(" Press [enter] to restart connection.CreateModel()");
                                Console.ReadLine();
                            }
                        }
                    
                    
                    ConsoleColor GetRandomConsoleColor()
                    {
                        Random _random = new Random();
                        var consoleColors = Enum.GetValues(typeof(ConsoleColor));
                        return (ConsoleColor)consoleColors.GetValue(_random.Next(consoleColors.Length));
                    }
                                                  
                </code>
            </pre>
        </div>
    </div>
</section>













<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Reciver Example of ACK 2RabbitMQ.NewJob.Worker.Reciver</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">



















                    using EasyNetQ;
                    using Newtonsoft.Json;
                    
                    while (true)
                    {
                        Console.WriteLine(&quot;Write [.] to increase time to do job for worker. Foreach [.]&quot;);
                        Console.WriteLine(&quot;Write [!] at least once. To make one worker fail job&quot;);
                        Console.WriteLine(&quot;Write [q] or [Q] to exit.&quot;);
                    
                        string whatuserwrote = Console.ReadLine();
                    
                        if (whatuserwrote == &quot;q&quot; || whatuserwrote == &quot;Q&quot;)
                            break;
                        if (string.IsNullOrEmpty(whatuserwrote))
                            continue;
                    
                        Job job = CreateJob(whatuserwrote);
                    
                        using (var bus = RabbitHutch.CreateBus(&quot;host=localhost&quot;))
                        {
                    
                            await bus.SendReceive.SendAsync&lt;Job&gt;(&quot;2EasyNetMQ.NewJob.Queue&quot;
                                , job
                            );
                        }
                    
                        string message = JsonConvert.SerializeObject(job);
                        WriteMessageOnConsole(message);
                    }
                    
                    
                    Job CreateJob(string usertext)
                    {
                        int howManySecondsWillJobTake = usertext.Split(&#39;.&#39;).Length - 1;
                        bool shouldFail = usertext.IndexOf(&#39;!&#39;) &gt; 0;
                    
                        string message = usertext.Replace(&quot;!&quot;, &quot;&quot;)
                            .Replace(&quot;.&quot;, &quot;&quot;);
                    
                        return new Job()
                        {
                            Message = message,
                            HowManySecondsWillJobTake = howManySecondsWillJobTake,
                            Type = JobType.SendEmail,
                            ShouldFaillOnWorkerTwo = shouldFail
                    
                        };
                    }
                    
                    void WriteMessageOnConsole(string message)
                    {
                        Console.WriteLine(&quot;&quot;);
                        Console.ForegroundColor = ConsoleColor.Green;
                        Console.WriteLine(&quot;\tSent {0}&quot;, message);
                        Console.ForegroundColor = ConsoleColor.Gray;
                        Console.WriteLine(&quot;&quot;);
                    }                                                   
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Reciver Example of ACK 2RabbitMQ.NewJob.Worker.Reciver</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">



















                    using EasyNetQ;

                    //https://stackoverflow.com/questions/33180108/does-easynetq-support-nack
                    //https://stackoverflow.com/questions/30914640/how-to-do-error-handling-with-easynetq-rabbitmq
                    //https://stackoverflow.com/questions/56629803/how-to-accept-and-reject-ack-and-nack-messages-manually
                    //https://stackoverflow.com/questions/60316265/easynetq-handle-manual-ack
                    
                    var connectionString = "host=localhost"; // RabbitMQ connection string
                    
                    using (var bus = RabbitHutch.CreateBus(connectionString))
                    {
                    
                        var queueName = "2EasyNetMQ.NewJob.Queue"; // Replace with your queue name
                        bus.Advanced.QueueDeclare(queueName, durable: true, false, false);
                    
                        await bus.SendReceive.ReceiveAsync<Job>
                            (queueName, HandleMessage, x => x.WithAutoDelete(false));
                    
                        Console.WriteLine("Press [enter] to exit.");
                        Console.ReadLine();
                    }
                    
                    static void HandleMessage(Job job)
                    {
                        try
                        {
                            // Process the message
                            Console.WriteLine(" [>] Received {0}", job.Message);
                            Console.WriteLine(" [>] Received {0}", job.Type);
                            Thread.Sleep(job.HowManySecondsWillJobTake * 1000);
                    
                            // Manually ACK the message
                            // YOU CAN'T DO THIS WITH EasyNetQ
                            // Note: EasyNetQ automatically ACKs messages by default.
                    
                            Console.ForegroundColor = ConsoleColor.Green;
                            Console.WriteLine(" [>] Done");
                            Console.ForegroundColor = ConsoleColor.Gray;
                        }
                        catch (Exception ex)
                        {
                            Console.WriteLine($"Error processing message: {ex.Message}");
                            // Handle any exceptions or log errors here
                        }
                    }                                                 
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">RabbitMQ.Client Reciver Example of ACK 2RabbitMQ.NewJob.Worker.Reciver</h2>
        </div>
        <div class="PlaceCodeHere canscroll">
            <pre style="font-size: 24px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 24px !important;">


















                    using EasyNetQ;

                    //https://stackoverflow.com/questions/33180108/does-easynetq-support-nack
                    //https://stackoverflow.com/questions/30914640/how-to-do-error-handling-with-easynetq-rabbitmq
                    
                    var connectionString = "host=localhost"; // RabbitMQ connection string
                    
                    using (var bus = RabbitHutch.CreateBus(connectionString))
                    {
                        var queueName = "2EasyNetMQ.NewJob.Queue"; // Replace with your queue name
                        bus.Advanced.QueueDeclare(queueName, durable: true, false, false);
                    
                        // Subscribe to messages
                        await bus.SendReceive.ReceiveAsync<Job>
                            (queueName, HandleMessage, x => x.WithAutoDelete(false));
                    
                        Console.WriteLine("Press [enter] to exit.");
                        Console.ReadLine();
                    }
                    
                    static void HandleMessage(Job job)
                    {
                    
                        if (job.ShouldFaillOnWorkerTwo == false)
                        {
                    
                            // Note: EasyNetQ automatically ACKs messages by default.
                    
                            Thread.Sleep(job.HowManySecondsWillJobTake * 500);
                            Console.ForegroundColor = ConsoleColor.Green;
                            Console.WriteLine(" [>] Done");
                            Console.ForegroundColor = ConsoleColor.Gray;
                        }
                        else
                        {
                            // Manually N-ACK the message
                            // YOU CAN'T DO THIS WITH EasyNetQ
                    
                            Console.ForegroundColor = ConsoleColor.Red;
                            Console.WriteLine($" [x] Fail {job.Message}");
                            Console.WriteLine($" [x] Fail {job.Type}");
                            Console.ForegroundColor = ConsoleColor.Gray;
                    
                    
                            // THIS WILL SEND MESSAGE TO DEAD-LETTER QUEQUE
                            // DEFAULT NAME OF THIS QUEQUE IS
                            // EasyNetQ_Default_Error_Queue
                            throw new Exception("JOB FAILED");
                        }
                    
                    }                                           
                </code>
            </pre>
        </div>
    </div>
</section>





<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/27.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/28.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/29.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/30.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/31.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/32.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/33.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/34.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/35.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/36.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/37.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/38.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/39.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/40.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/41.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/42.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/43.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/44.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<!-- WYSŁANIE WIADOMOŚCI DO WIELU RABBITMQ-->
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">C# 9.0</h2>
        </div>
        <div class="PlaceCodeHere ">
            <pre style="font-size: 36px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 36px !important;">
                    // C# 9
                    Func getUserInput = Console.ReadLine;
                    Action tellUser = (string s) => 
                                    Console.WriteLine(s);
                    Func waitForEnter = Console.ReadLine;
                     
                    tellUser("Please enter name");
                    var name = getUserInput();
                    tellUser($"Your name is {name}");
                    waitForEnter();
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/45.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<!-- FRAMEWORK OPARTY NA ZDARZENIACH REBUS RABBITMQ -->
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">C# 9.0</h2>
        </div>
        <div class="PlaceCodeHere ">
            <pre style="font-size: 36px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 36px !important;">
                    // C# 9
                    Func getUserInput = Console.ReadLine;
                    Action tellUser = (string s) => 
                                    Console.WriteLine(s);
                    Func waitForEnter = Console.ReadLine;
                     
                    tellUser("Please enter name");
                    var name = getUserInput();
                    tellUser($"Your name is {name}");
                    waitForEnter();
                </code>
            </pre>
        </div>
    </div>
</section>    
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/46.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/47.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/48.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/49.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/50.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/51.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/52.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/53.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/54.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>



<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/55.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/56.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/57.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/58.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/59.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/60.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/61.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/62.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/63.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/64.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/65.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/66.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/67.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/68.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/69.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/70.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>

<!-- KAFKA CONFULENCE  --> 
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">C# 9.0</h2>
        </div>
        <div class="PlaceCodeHere ">
            <pre style="font-size: 36px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 36px !important;">
                    // C# 9
                    Func getUserInput = Console.ReadLine;
                    Action tellUser = (string s) => 
                                    Console.WriteLine(s);
                    Func waitForEnter = Console.ReadLine;
                     
                    tellUser("Please enter name");
                    var name = getUserInput();
                    tellUser($"Your name is {name}");
                    waitForEnter();
                </code>
            </pre>
        </div>
    </div>
</section>   
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/71.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>

<!-- KAFKA FLOW  -->    
<section class="slide prism over bhgry">
    <div class="grid-container">
        <div class="HeaderTitle GG"> 
            <h2 class="headerCODE GG">C# 9.0</h2>
        </div>
        <div class="PlaceCodeHere ">
            <pre style="font-size: 36px;overflow: hidden;  " class="language-csharp">
                <code style="line-height: 36px !important;">
                        // C# 9
                        Func getUserInput = Console.ReadLine;
                        Action tellUser = (string s) => 
                                        Console.WriteLine(s);
                        Func waitForEnter = Console.ReadLine;
                        
                        tellUser("Please enter name");
                        var name = getUserInput();
                        tellUser($"Your name is {name}");
                        waitForEnter();
                </code>
            </pre>
        </div>
    </div>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/72.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/73.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>
<section class="slide" style="background-color:black">
    <figure>
        <img class="cover" src="pictures/74.png" alt="blog">
        <figcaption class="white">CW</figcaption>
    </figure>
</section>



    <!-- <div class="progress"></div> -->
    <footer class="badge badge-top-left">
        <a href="#" class="fullscreen">Fullscreen</a>
    </footer>

    <script src="vendors/gamepad/gamepad.js"></script>
    <script src="vendors/shower/shower.min.js"></script>
    <script src="vendors/shower-gamepad/shower.gamepad.js"></script>

    <!-- Prism.js -->
    <script src="vendors/prism/prism.js"></script>
    <script src="vendors/prism/custom-prism.js"></script>

</body>

</html>